<!DOCTYPE html>
<html>
<body>

<h2>Donate Test</h2>
<button id="donateBtn">Donate $1</button>

<script>
window.onload = () => {
  const btn = document.getElementById("donateBtn");

  if (!btn) {
    alert("Button not found.");
    return;
  }

  btn.onclick = async () => {
    try {
      const res = await fetch("https://jwr-engine-test.onrender.com/create-checkout-session", {
        method: "POST"
      });

      const data = await res.json();

      if (!data.url) {
        alert("Backend did not return a URL.");
        return;
      }

      window.location.href = data.url;
    } catch (err) {
      alert("JS Error: " + err.message);
    }
  };
};
</script>

</body>
</html>